/* =========================================================
   MILGIE GAMING SYSTEM — SYNTHWAVE COVERFLOW
   File: collectibles/milgie-gaming-system/milgie-coverflow.css
   Designed to work with your existing study-coverflow.js
   ========================================================= */

   .coverflow {
    padding: 14px;
  }
  
  /* Title strip */
  .coverflow-top {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 14px;
    margin-bottom: 10px;
  }
  
  .coverflow-title {
    display: grid;
    gap: 4px;
  }
  
  .coverflow-kicker {
    font-size: 11px;
    font-weight: 950;
    letter-spacing: .18em;
    text-transform: uppercase;
    opacity: .80;
  }
  
  .coverflow-now {
    font-size: 18px;
    font-weight: 950;
    letter-spacing: .06em;
  }
  
  /* The viewport must have a real height (JS uses viewport.clientHeight) */
  .coverflow-viewport {
    position: relative;
    height: 520px;                 /* <- critical */
    border-radius: 18px;
    overflow: hidden;               /* hides far cards */
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(0,0,0,.18);
    padding-top: 14px;              /* JS reserves this */
    padding-bottom: 78px;           /* JS reserves this for under-controls */
    outline: none;
  }
  
  /* Soft mask / haze */
  .coverflow-mask {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      radial-gradient(900px 420px at 50% 35%, rgba(255,64,180,.12), transparent 60%),
      radial-gradient(900px 420px at 50% 55%, rgba(64,220,255,.10), transparent 60%),
      linear-gradient(90deg, rgba(0,0,0,.55), transparent 20%, transparent 80%, rgba(0,0,0,.55));
    opacity: .9;
  }
  
  /* Perspective layer */
  .coverflow-stage {
    position: absolute;
    inset: 0;
    perspective: 1200px;
    transform-style: preserve-3d;
  }
  
  /* Track just provides a coordinate space */
  .coverflow-track {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
  }
  
  /* IMPORTANT: cards MUST be absolute + centered.
     Your JS transform assumes left/top 50%. */
  .cf-card {
    position: absolute;
    top: 50%;
    left: 50%;
  
    width: 340px;
    height: 440px;
    border-radius: 18px;
    overflow: hidden;
  
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(7, 7, 26, .72);
    box-shadow: 0 16px 44px rgba(0,0,0,.55);
  
    transform-style: preserve-3d;
    transition: transform 220ms ease, opacity 220ms ease, filter 220ms ease;
    will-change: transform, opacity;
  }
  
  /* Center emphasis */
  .cf-card.is-center {
    border-color: rgba(255,255,255,.22);
    box-shadow:
      0 18px 56px rgba(0,0,0,.62),
      0 0 30px rgba(255,64,180,.12),
      0 0 28px rgba(64,220,255,.10);
  }
  
  /* Header inside the card */
  .cf-card-head {
    padding: 12px 12px 10px;
    border-bottom: 1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.22);
    backdrop-filter: blur(10px);
  }
  
  .cf-card-name {
    font-weight: 950;
    letter-spacing: .06em;
    text-transform: uppercase;
    font-size: 13px;
  }
  
  .cf-card-sub {
    opacity: .75;
    font-size: 12px;
    margin-top: 2px;
  }
  
  /* Media area must constrain image size */
  .cf-media {
    height: calc(100% - 112px); /* header + button reserve */
    padding: 10px;
    display: grid;
    place-items: center;
    background:
      radial-gradient(600px 280px at 50% 45%, rgba(255,64,180,.10), transparent 60%),
      radial-gradient(600px 280px at 50% 55%, rgba(64,220,255,.09), transparent 60%);
  }
  
  .cf-media img {
    width: 100%;
    height: 100%;
    object-fit: contain;   /* <- prevents cropping and “huge image” behavior */
    object-position: center;
    display: block;
  }
  
  /* Action button */
  .cf-action {
    width: calc(100% - 20px);
    margin: 10px;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.92);
  
    font-weight: 900;
    letter-spacing: .10em;
    text-transform: uppercase;
    font-size: 11px;
    cursor: pointer;
  }
  
  .cf-action:hover {
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.22);
  }
  
  /* Under controls */
  .cf-under-controls {
    position: absolute;
    left: 50%;
    bottom: 14px;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 20;
  }
  
  .cf-btn {
    width: 46px;
    height: 40px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.22);
    color: rgba(255,255,255,.92);
    font-size: 18px;
    cursor: pointer;
  }
  .cf-btn:hover {
    background: rgba(255,255,255,.08);
    border-color: rgba(255,255,255,.22);
  }
  
  /* Selected-study panel */
  .cf-study {
    margin-top: 12px;
    padding: 14px;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(7, 7, 26, .62);
  }
  
  .cf-study-kicker {
    font-size: 11px;
    font-weight: 950;
    letter-spacing: .18em;
    text-transform: uppercase;
    opacity: .80;
  }
  
  .cf-study-title {
    margin-top: 6px;
    font-size: 16px;
    font-weight: 950;
    letter-spacing: .06em;
  }
  
  #coverflowStudyBody p {
    margin: 10px 0 0;
    opacity: .86;
  }
  
  /* Dots */
  .coverflow-dots {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 12px;
  }
  
  .cf-dot {
    width: 10px;
    height: 10px;
    border-radius: 99px;
    border: 1px solid rgba(255,255,255,.16);
    background: rgba(255,255,255,.06);
    cursor: pointer;
    padding: 0;
  }
  .cf-dot.active {
    background: linear-gradient(135deg, rgba(255,64,180,1), rgba(64,220,255,1));
    box-shadow: 0 0 16px rgba(64,220,255,.18);
  }
  
  /* Responsive sizing */
  @media (max-width: 520px) {
    .coverflow-viewport { height: 560px; }
    .cf-card { width: 300px; height: 420px; }
  }
  